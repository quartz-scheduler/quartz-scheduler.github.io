<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

  <link rel="shortcut icon"  type="image/x-icon" href="/images/favicon.ico">
  <link rel="icon" type="image/x-icon" href="/images/favicon.ico">

  <title>Configuration Reference</title>

  <meta name="description" content="A full-featured, Java-based, In-process job scheduler.">

  <link rel="canonical" href="http://www.quartz-scheduler.org/documentation/quartz-2.2.x/configuration/ConfigJobStoreTX.html">
  <link rel="alternate" type="application/rss+xml" title="Quartz Enterprise Job Scheduler" href="http://www.quartz-scheduler.org/feed.xml" />



  <!-- Fonts -->
  <link href='http://fonts.googleapis.com/css?family=Lato:300,400,300italic,400italic' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>

  <!-- Global CSS -->

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.5/spacelab/bootstrap.min.css">


<!--
  <link rel="stylesheet" href="/plugins/highlight/styles/idea.css">
  <script src="/plugins/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
-->

  <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
  <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/prettify.css"></script>

  <link rel="stylesheet" href="/css/main.css">

<!--
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
  <script>document.addEventListener('DOMContentLoaded', prettyPrint)</script>
-->

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-131151-11', 'auto');
    ga('send', 'pageview');

    </script>
  
</head>


  <body>

    

    <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="site-title" href="/"><img src="/images/logo-quartz-scheduler.png" style="margin-top:15px;margin-bottom:6px;"/></a>
          <span style="vertical-align:bottom;color:gray;display:inline-block;margin-bottom:.4em;">By</span>
          <a class="SAG-Logo" href="http://www.softwareag.com/corporate/products/terracotta"><img src="/images/SAG_Logo.png" style="margin-top:12px;margin-bottom:6px;height:1.5em;width:9em;"/></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li id="site_mnu_about"><a href="/overview/"><i class="fa fa-info-circle"></i> About</a></li>
            <li id="site_mnu_docs"><a href="/documentation/"><i class="fa fa-book"></i> Docs</a></li>
            <li id="site_mnu_download"><a href="/downloads/"><i class="fa fa-download"></i> Download</a></li>
            <li id="site_mnu_community" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-users"></i> Community <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li class="dropdown-header">We Love Contributors</li>
                <li><a href="/documentation/2.4.0-SNAPSHOT/community.html"><i class="fa fa-code"></i> Contributing</a></li>
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">Forums</li>
                <li><a href="https://groups.google.com/forum/#!forum/quartz-scheduler" target="_blank"><i class="fa fa-commenting"></i> Users' Forum</a></li>
                <li><a href="https://groups.google.com/forum/#!forum/quartz-scheduler-dev" target="_blank"><i class="fa fa-commenting"></i> Developers' Forum</a></li>
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">Source Code</li>
                <li><a href="https://github.com/quartz-scheduler/quartz"><i class="fa fa-code-fork"></i> GitHub</a></li>
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">Bug Tracking</li>
                <li><a href="https://github.com/quartz-scheduler/quartz/issues"><i class="fa fa-bug"></i> GitHub</a></li>
                <li><a href="http://jira.terracotta.org/jira/browse/QTZ"><i class="fa fa-bug"></i> Jira (historical)</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
<!--            <li id="site_mnu_events"><a href="/events"><i class="fa fa-calendar"></i> News & Events</a></li> -->
            <li><a href="/blog/"><i class="fa fa-rss-square"></i>  Blog</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

<br/>
<br/>
<br/>


    <div class="container-fluid">
      <div id="contentTitle">
        <h1>Configuration Reference</h1>
      </div>
      <div>
        <br/>

<div class="container-fluid">

  <div class="row row-offcanvas row-offcanvas-left">

    <!-- sidebar -->
    <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">
      <h3>Quartz 2.2.x Docs</h3>
        <ul class="nav">
          <li id="site_mnu_docs_quick_start" class="submenu"><a href="/documentation/quartz-2.2.x/quick-start.html">Quick Start</a></li>
          <li id="site_mnu_docs_new_in" class="submenu"><a href="/documentation/quartz-2.2.x/new-in-quartz-2_2.html">What's New</a></li>
          <li id="site_mnu_docs_tutorials" class="submenu"><a href="/documentation/quartz-2.2.x/tutorials">Tutorials</a></li>
          <li id="site_mnu_docs_examples" class="submenu"><a href="/documentation/quartz-2.2.x/examples">Examples</a></li>
          <li id="site_mnu_docs_cookbook" class="submenu"><a href="/documentation/quartz-2.2.x/cookbook">Cookbook</a></li>
          <li id="site_mnu_docs_configuration" class="submenu"><a href="/documentation/quartz-2.2.x/configuration">Configuration Reference</a></li>
          <li id="site_mnu_migration_guide" class="submenu"><a href="/documentation/quartz-2.2.x/migration-guide.html">Migration from Quartz 1.8</a></li>
        </ul>
    </div>

    <!-- main area -->
    <div class="col-xs-12 col-sm-9">
      <header class="post-header">
        
        <h1 class="post-title">Quartz Configuration Reference </h1>
        <hr/>
        
      </header>
      <article class="post-content">
        <div class="secNavPanel">
          <a href="index.html">Contents</a> |
          <a href="ConfigRAMJobStore.html">‹ ConfigRAMJobStore</a> |
	  <a href="ConfigJobStoreCMT.html">ConfigJobStoreCMT ›</a>
</div>

<h1 id="configuration-reference">Configuration Reference</h1><div id="toc-container">
   <table class="toc" id="toc">
      <tbody>
         <tr>
            <td>
               <ul>
                  <li class="toc_level-1 toc_section-1">
                     <a href="#configuration-reference">
                        <span class="toctext">Configuration Reference</span>
                     </a>
                     <ul>
                        <li class="toc_level-2 toc_section-2">
                           <a href="#configure-jdbc-jobstoretx">
                              <span class="toctext">Configure JDBC-JobStoreTX</span>
                           </a>
                        </li>
                     </ul>
                  </li>
               </ul>
            </td>
         </tr>
      </tbody>
   </table>
</div>

<h2 id="configure-jdbc-jobstoretx">Configure JDBC-JobStoreTX</h2>

<p>JDBCJobStore is used to store scheduling information (job, triggers and calendars) within a relational database.  There are actually two seperate JDBCJobStore classes that you can select between, depending on the transactional behaviour you need.</p>

<p>JobStoreTX manages all transactions itself by calling commit() (or rollback()) on the database connection after every action (such as the addition of a job).  JDBCJobStore is appropriate if you are using Quartz in a stand-alone application, or within a servlet container if the application is not using JTA transactions.</p>

<p>The JobStoreTX is selected by setting the ‘org.quartz.jobStore.class’ property as such:</p>

<p>
   <strong>Setting The Scheduler’s JobStore to JobStoreTX</strong>
</p>

<pre>
org.quartz.jobStore.class = org.quartz.impl.jdbcjobstore.JobStoreTX
</pre>

<p>JobStoreTX can be tuned with the following properties:</p>

<table>

<thead>
<tr>
<th>Property Name</th>
<th>Required</th>
<th>Type</th>
<th>Default Value</th>
</tr>
</thead>

<tbody>

<tr>
<td>org.quartz.jobStore.driverDelegateClass</td>
<td>yes</td>
<td>string</td>
<td>null</td>
</tr>

<tr>
<td>org.quartz.jobStore.dataSource</td>
<td>yes</td>
<td>string</td>
<td>null</td>
</tr>

<tr>
<td>org.quartz.jobStore.tablePrefix</td>
<td>no</td>
<td>string</td>
<td>"QRTZ_"</td>
</tr>

<tr>
<td>org.quartz.jobStore.useProperties</td>
<td>no</td>
<td>boolean</td>
<td>false</td>
</tr>

<tr>
<td>org.quartz.jobStore.misfireThreshold</td>
<td>no</td>
<td>int</td>
<td>60000</td>
</tr>

<tr>
<td>org.quartz.jobStore.isClustered</td>
<td>no</td>
<td>boolean</td>
<td>false</td>
</tr>

<tr>
<td>org.quartz.jobStore.clusterCheckinInterval</td>
<td>no</td>
<td>long</td>
<td>15000</td>
</tr>

<tr>
<td>org.quartz.jobStore.maxMisfiresToHandleAtATime</td>
<td>no</td>
<td>int</td>
<td>20</td>
</tr>

<tr>
<td>org.quartz.jobStore.dontSetAutoCommitFalse</td>
<td>no</td>
<td>boolean</td>
<td>false</td>
</tr>

<tr>
<td>org.quartz.jobStore.selectWithLockSQL</td>
<td>no</td>
<td>string</td>
<td>"SELECT * FROM {0}LOCKS WHERE SCHED_NAME = {1} AND LOCK_NAME = ? FOR UPDATE"</td>
</tr>

<tr>
<td>org.quartz.jobStore.txIsolationLevelSerializable</td>
<td>no</td>
<td>boolean</td>
<td>false</td>
</tr>

<tr>
<td>org.quartz.jobStore.acquireTriggersWithinLock</td>
<td>no</td>
<td>boolean</td>
<td>false (or true - see doc below)</td>
</tr>

<tr>
<td>org.quartz.jobStore.lockHandler.class</td>
<td>no</td>
<td>string</td>
<td>null</td>
</tr>

<tr>
<td>org.quartz.jobStore.driverDelegateInitString</td>
<td>no</td>
<td>string</td>
<td>null</td>
</tr>

</tbody></table>

<p>
   <strong>org.quartz.jobStore.driverDelegateClass</strong>
</p>

<p>Driver delegates understand the particular ‘dialects’ of varies database systems.  Possible choices include:</p>

<ul>
  <li>org.quartz.impl.jdbcjobstore.StdJDBCDelegate (for fully JDBC-compliant drivers)</li>
  <li>org.quartz.impl.jdbcjobstore.MSSQLDelegate (for Microsoft SQL Server, and Sybase)</li>
  <li>org.quartz.impl.jdbcjobstore.PostgreSQLDelegate</li>
  <li>org.quartz.impl.jdbcjobstore.WebLogicDelegate (for WebLogic drivers)</li>
  <li>org.quartz.impl.jdbcjobstore.oracle.OracleDelegate</li>
  <li>org.quartz.impl.jdbcjobstore.oracle.WebLogicOracleDelegate (for Oracle drivers used within Weblogic)</li>
  <li>org.quartz.impl.jdbcjobstore.oracle.weblogic.WebLogicOracleDelegate (for Oracle drivers used within Weblogic)</li>
  <li>org.quartz.impl.jdbcjobstore.CloudscapeDelegate</li>
  <li>org.quartz.impl.jdbcjobstore.DB2v6Delegate</li>
  <li>org.quartz.impl.jdbcjobstore.DB2v7Delegate</li>
  <li>org.quartz.impl.jdbcjobstore.DB2v8Delegate</li>
  <li>org.quartz.impl.jdbcjobstore.HSQLDBDelegate</li>
  <li>org.quartz.impl.jdbcjobstore.PointbaseDelegate</li>
  <li>org.quartz.impl.jdbcjobstore.SybaseDelegate</li>
</ul>

<p>Note that many databases are known to work with the StdJDBCDelegate, while others are known to work with delegates for other databases, for example Derby works well with the Cloudscape delegate (no surprise there).</p>

<p>
   <strong>org.quartz.jobStore.dataSource</strong>
</p>

<p>The value of this property must be the name of one the DataSources defined in the configuration properties file.  See the <a href="ConfigDataSources.html" title="ConfigDataSources">configuration docs for DataSources</a> for more information.</p>

<p>
   <strong>org.quartz.jobStore.tablePrefix</strong>
</p>

<p>JDBCJobStore’s “table prefix” property is a string equal to the prefix given to Quartz’s tables that were created in your database.  You can have multiple sets of Quartz’s tables within the same database if they use different table prefixes.</p>

<p>
   <strong>org.quartz.jobStore.useProperties</strong>
</p>

<p>The “use properties” flag instructs JDBCJobStore that all values in JobDataMaps will be Strings, and therefore can be stored as name-value pairs, rather than storing more complex objects in their serialized form in the BLOB column.  This is can be handy, as you avoid the class versioning issues that can arise from serializing your non-String classes into a BLOB.</p>

<p>
   <strong>org.quartz.jobStore.misfireThreshold</strong>
</p>

<p>The the number of milliseconds the scheduler will ‘tolerate’ a trigger to pass its next-fire-time by, before being considered “misfired”.  The default value (if you don’t make an entry of this property in your configuration) is 60000 (60 seconds).</p>

<p>
   <strong>org.quartz.jobStore.isClustered</strong>
</p>

<p>Set to “true” in order to turn on clustering features. This property must be set to “true” if you are having multiple instances of Quartz use the same set of database tables… otherwise you will experience havoc.  See the configuration docs for clustering for more information.</p>

<p>
   <strong>org.quartz.jobStore.clusterCheckinInterval</strong>
</p>

<p>Set the frequency (in milliseconds) at which this instance “checks-in”* with the other instances of the cluster. Affects the quickness of detecting failed instances.</p>

<p>
   <strong>org.quartz.jobStore.maxMisfiresToHandleAtATime</strong>
</p>

<p>The maximum number of misfired triggers the jobstore will handle in a given pass.  Handling many (more than a couple dozen) at once can cause the database tables to be locked long enough that the performance of firing other (not yet misfired) triggers may be hampered.</p>

<p>
   <strong>org.quartz.jobStore.dontSetAutoCommitFalse</strong>
</p>

<p>Setting this parameter to “true” tells Quartz not to call setAutoCommit(false) on connections obtained from the DataSource(s).  This can be helpful in a few situations, such as if you have a driver that complains if it is called when it is already off.  This property defaults to false, because most drivers require that setAutoCommit(false) is called.</p>

<p>
   <strong>org.quartz.jobStore.selectWithLockSQL</strong>
</p>

<p>Must be a SQL string that selects a row in the “LOCKS” table and places a lock on the row. If not set, the default is “SELECT * FROM {0}LOCKS WHERE SCHED_NAME = {1} AND LOCK_NAME = ? FOR UPDATE”,  which works for most databases.  The “{0}” is replaced during run-time with the TABLE_PREFIX that you configured above.  The “{1}” is replaced with the scheduler’s name.</p>

<p>
   <strong>org.quartz.jobStore.txIsolationLevelSerializable</strong>
</p>

<p>A value of “true” tells Quartz (when using JobStoreTX or CMT) to call setTransactionIsolation(Connection.TRANSACTION_SERIALIZABLE) on JDBC connections.  This can be helpful to prevent lock timeouts with some databases under high load, and “long-lasting” transactions.</p>

<p>
   <strong>org.quartz.jobStore.acquireTriggersWithinLock</strong>
</p>

<p>Whether or not the acquisition of next triggers to fire should occur within an explicit database lock.  This was once necessary (in previous versions of Quartz) to avoid dead-locks with particular databases, but is no longer considered necessary, hence the default value is “false”.</p>

<p>If “org.quartz.scheduler.batchTriggerAcquisitionMaxCount” is set to &gt; 1, and JDBC JobStore is used, then this property must be set to “true” to avoid data corruption (as of Quartz 2.1.1 “true” is now the default if batchTriggerAcquisitionMaxCount is set &gt; 1).</p>

<p>
   <strong>org.quartz.jobStore.lockHandler.class</strong>
</p>

<p>The class name to be used to produce an instance of a org.quartz.impl.jdbcjobstore.Semaphore to be used for locking control on the job store data.  This is an advanced configuration feature, which should not be used by most users.  By default, Quartz will select the most appropriate (pre-bundled) Semaphore implementation to use.  “org.quartz.impl.jdbcjobstore.UpdateLockRowSemaphore” <a href="http://jira.opensymphony.com/browse/QUARTZ-497" target="external">QUARTZ-497</a> may be of interest to MS SQL Server users.  See <a href="http://jira.opensymphony.com/browse/QUARTZ-441" target="external">QUARTZ-441</a>.</p>

<p>
   <strong>org.quartz.jobStore.driverDelegateInitString</strong>
</p>

<p>A pipe-delimited list of properties (and their values) that can be passed to the DriverDelegate during initialization time.</p>

<p>The format of the string is as such:</p>

<pre>"settingName=settingValue|otherSettingName=otherSettingValue|..."
</pre>

<p>The StdJDBCDelegate and all of its descendants (all delegates that ship with Quartz) support a property called ‘triggerPersistenceDelegateClasses’ which can be set to a comma-separated list of classes that implement the TriggerPersistenceDelegate interface for storing custom trigger types.  See the Java classes SimplePropertiesTriggerPersistenceDelegateSupport and SimplePropertiesTriggerPersistenceDelegateSupport for examples of writing a persistence delegate for a custom trigger.</p>

      </article>
    </div>

  </div>

</div>

      </div>
    </div>

    <br/>
<footer class="site-footer">

  <div class="container">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        Related Projects:<br/>
        <a href="http://www.terracotta.org"><img src="/images/Terracotta_Logo_sm.png" style="max-height: 20px;"></a><br/>
        <a href="http://www.ehcache.org"><img src="/images/ehcache.png" style="max-height: 44px;"></a>

        <!--
        <ul class="contact-list">
          <li>Quartz Enterprise Job Scheduler</li>
          <li><a href="mailto:tc-oss@softwareag.com">tc-oss@softwareag.com</a></li>
        </ul>
      -->
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/quartz-scheduler">
              <i class="fa fa-github"></i> GitHub
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/terracottatech">
              <i class="fa fa-twitter"></i> Twitter
            </a>
          </li>
          

          
          <li>
            <a href="http://www.facebook.com/Terracotta">
              <i class="fa fa-facebook"></i> Facebook
            </a>
          </li>
          

          
          <li>
            <a href="http://www.linkedin.com/company/terracotta">
              <i class="fa fa-linkedin"></i> LinkedIn
            </a>
          </li>
          
        </ul>
      </div>

    <div class="footer-col  footer-col-3">
      <a href="/downloads/"><i class="fa fa-download"></i> Download Now</a>
      <br/>
      <a href="/documentation/"><i class="fa fa-book"></i> Documentation</a>
      <br/>
      <a href="/community/"><i class="fa fa-users"></i> Join the Community</a>
    </div>

    </div>

    <div class="container-fluid">
        <hr/>
        <a class="SAG-Logo" href="http://www.softwareag.com/corporate/products/terracotta"><img src="/images/SAG_Logo.png" style="height:1.5em;width:9em;"/></a>
        <div class="footer-text">
          <em class="copyleft">Quartz Job Scheduler is Open Source and freely available under the Apache 2 License</em>
          <br/>
          <em class="copyright">&copy; Terracotta, Inc., a wholly-owned subsidiary of Software AG USA, Inc. All rights reserved.</em>
        </div>
    </div>
  </div>

</footer>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="https://maxcdn.bootstrapcdn.com/js/ie10-viewport-bug-workaround.js"></script>

<!--  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/2.1.0/jquery.scrollTo.min.js"/> -->

<script type="text/javascript">
        $('#').addClass("active");
        $('#site_mnu_docs_configuration').addClass("active");
</script>


  </body>

</html>
